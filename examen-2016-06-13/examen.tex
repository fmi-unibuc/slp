\documentclass[addpoints,12pt,a4paper,answers]{exam}
%
\usepackage[none]{hyphenat} \usepackage{fullpage}
\usepackage{../tdefinition}
%\usepackage{fancyhdr}
%\pagestyle{fancy}
%\lhead{}
%}
%\rhead{Page \thepage}

\newcommand{\bs}{\char`\\} \newcommand{\bt}{\char`\`}
\newcommand{\us}{\char`\_}
\pagestyle{empty}


\newcommand{\getHeight}[1]{%
%\newdimen\height
%\setbox0=\vbox{#1}
%\height=\ht0 \advance\height by \dp0
%\vspace*{1.1\height}
%#1%
}

\newenvironment{solutie}{\par\hspace*{-9em}\begin{minipage}{.98\paperwidth}
\hrulefill {\bf Rezolvare} \hrulefill}{\hrulefill\end{minipage}}

\begin{document}

\begin{center}

%\makebox[\textwidth]{Prenumele, numele și grupa: \enspace\hrulefill}
%\vspace{0.1in}

Semantica limbajelor de programare---Examen \hfill  13 iunie 2016 \\ \ \\

\end{center}

\pointpoints{punct}{puncte}

Tratati 2 subiecte la alegere.  1p din oficiu.
\begin{questions}
\question[4] {\bf  IMP+LOGICĂ. }
Adăugați la limbajul IMP constructorii de expresii booleene $\terminal{not} e$, $e_1 \terminal{\&\&} e_2$ și $e_1 \terminal{||} e_2$ cu semantica obișnuită (scurtcircuitată) din C:
\begin{itemize}
  \item[$\terminal{not} e$] ia ca argument expresia booleană $e$ și se evaluează la negația valorii acesteia.
  \item[$e_1 \terminal{\&\&} e_2$] ia ca argument expresiile booleene $e_1$ și $e_2$ și se evaluează astfel: evaluează mai întâi $e_1$; dacă valoarea lui $e_1$ este $\Sfalse$ atunci se evaluează direct la $\Sfalse$; altfel se evaluează la valoarea lui $e_2$.
  \item[$e_1 \terminal{||} e_2$] ia ca argument expresiile booleene $e_1$ și $e_2$ și se evaluează astfel: evaluează mai întâi $e_1$; dacă valoarea lui $e_1$ este $\Strue$ atunci se evaluează direct la $\Strue$; altfel se evaluează la valoarea lui $e_2$.
\end{itemize}
\begin{parts}
\part[1] {\bf Semantică intuitivă. } Ce funcție matematică definește următorul program?%
\begin{asciiml}
let rec x =
  fun (y) -> (y <= 0) || (not (y <= 1) && (x (y + -2)))
in x
\end{asciiml}
\part[1] {\bf Tipuri. } Scrieți regulile de tipuri pentru $\terminal{not}$, $\terminal{\&\&}$ și $\terminal{||}$.
\part[1] {\bf Semantică. } Scrieți regulile de deducție pentru execuția programelor folosind $\terminal{not}$, $\terminal{\&\&}$ și $\terminal{||}$. 
\part[1] {\bf Siguranță. } Arătați că sistemul de tranziție IMP+LOGICĂ are proprietatea de progres.
\end{parts}

\question[5] {\bf Funcții}
Se dă expresia $e$
\begin{asciiml}
let y = let rec x = 
          fun (y) -> (y <= 0) || (not (y <= 1) && (x (y + -2)))
        in x
in let x = fun (y) -> y (x y)
   in x y
\end{asciiml}
\begin{parts}
\part[2] {\bf Variabile. } Subliniați aparițiile libere și indicați legătura fiecărei apariții legate printr-o săgeată către parametrul care o leagă.
\part[1] {\bf Inferență.}  Dați exemplu de $\Gamma$ și $T$ pentru care $\tjud{e}{T}$
\part[2] {\bf Tipuri. } Demonstrați $\tjud{e}{T}$
\[x:{\Sbool},y:{\Sbool \rightarrow \Sint} \vdash e : {\Sint}\]
\end{parts}
%\newpage

\question[3] {Date structurate (DATA-IMP).}
Fie $e$ expresia:
\begin{asciiml}
(fun (a) ->  a {i=1; a={a=0}}) fun (a) ->  {a=a.a}
\end{asciiml}

 Demonstrați că există un tip $T$ astfel încât $\tjud[]{e}{T}$.
\end{questions}

%Ciornă
\end{document}
